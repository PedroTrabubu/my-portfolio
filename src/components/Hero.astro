---
import Badge from "./Badge.astro";
import LinkedInIcon from "../icons/LinkedIn.astro";
import Gmail from "../icons/Gmail.astro";
import GitHub from "../icons/GitHub.astro";
---

<!-- Hero -->
<div
  class="flex flex-col md:flex-row items-center md:items-start max-w-6xl w-full gap-12 relative mt-1"
>
  <!-- Imagen -->
  <div
    class="relative flex-shrink-0 md:w-1/3 flex justify-center md:justify-start mt-12"
  >
    <img
      class="rounded-full shadow-2xl w-64 h-64 md:w-122 md:h-122 object-cover border-4 border-green-500/50"
      src="/yo carnet paris_resultado_resultado2_resultado2.webp"
      alt="Foto de Pedro Blanquer"
    />
  </div>

  <!-- Texto + botones -->
  <div class="md:w-2/3 text-center md:text-left">
    <div class="flex flex-col items-center md:items-start gap-2">
      <h1
        class="text-4xl md:text-5xl font-bold tracking-tight text-gray-900 dark:text-white flex flex-col md:flex-row items-center gap-3"
      >
        <span>¡Hola! Soy</span>
        <span
          id="typewriter"
          class="text-green-600 dark:text-green-300 relative inline-block min-w-[180px] border-r-2 border-green-600 dark:border-green-300 pr-1 animate-cursor"
        >
          Pedro Blanquer
        </span>
      </h1>
    </div>

    <p
      class="mt-6 text-lg md:text-xl text-gray-700 dark:text-gray-300 leading-relaxed"
    >
      <strong class="text-green-600 dark:text-green-300"
        >Desarrollador Full Stack Junior</strong
      >
      Hace tres años decidí <strong>reinventarme profesionalmente</strong> y orientar
      mi carrera hacia el <strong>desarrollo web</strong>.
    </p>
    <p
      class="mt-6 text-lg md:text-xl text-gray-700 dark:text-gray-300 leading-relaxed"
    >
      Actualmente estoy cursando el último año de <strong
        >Ciclo Formativo de Grado Superior en Desarrollo de Aplicaciones Web
        <span class="text-green-600 dark:text-green-300">(DAW)</span></strong
      > en la Universidad Internacional de La Rioja (UNIR), y estoy en búsqueda de
      empresa para realizar las <strong>prácticas </strong>en 2026.
    </p>
    <p
      class="mt-6 text-lg md:text-xl text-gray-700 dark:text-gray-300 leading-relaxed"
    >
      Hablo <strong class="text-green-600 dark:text-green-300"
        >inglés, francés y español</strong
      >. Me considero una persona <strong>empática</strong>, <strong
        >comunicativa</strong
      > y con gran
      <strong>capacidad de adaptación</strong>, cualidades que aplico en mi
      forma de trabajar y aprender cada día.
    </p>

    <ul class="flex flex-col items-left gap-4 mt-10">
      <li class="flex flex-wrap justify-center gap-4">
        <!-- LinkedIn -->
        <a
          href="https://www.linkedin.com/in/pedro-blanquer-cerro-b3b71a350/"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center gap-2 px-6 py-2.5 bg-green-600 text-white rounded-full font-medium hover:bg-green-700 transition shadow-sm hover:shadow-md"
        >
          <LinkedInIcon class="w-5 h-5 fill-white" />
          <span>LinkedIn</span>
        </a>
        <!-- Email -->
        <a
          href="mailto:pedro.blanquer.cerro@gmail.com"
          class="inline-flex items-center gap-2 px-6 py-2.5 border border-green-600 text-green-600 dark:text-green-300 dark:border-green-300 rounded-full font-medium hover:bg-green-50 dark:hover:bg-green-900/30 transition shadow-sm hover:shadow-md"
        >
          <Gmail class="w-5 h-5 text-green-600 dark:text-green-300" />
          <span>Contáctame</span>
        </a>
        <!-- GitHub -->
        <a
          href="https://github.com/PedroTrabubu"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center gap-2 px-6 py-2.5 bg-green-600 text-white rounded-full font-medium hover:bg-green-700 transition shadow-sm hover:shadow-md"
        >
          <GitHub class="w-5 h-5 fill-white" />
          <span>GitHub</span>
        </a>
      </li>

      <!-- Badge centrado debajo de los botones -->
      <li>
        <a
          href="https://www.linkedin.com/in/pedro-blanquer-cerro-b3b71a350/"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex justify-center w-full mt-4"
        >
          <Badge>En búsqueda de prácticas</Badge>
        </a>
      </li>
    </ul>
  </div>
</div>

<style>
  @keyframes blink {
    0%,
    100% {
      border-color: transparent;
    }
    50% {
      border-color: currentColor;
    }
  }

  .animate-cursor {
    animation: blink 1s step-end infinite;
  }
</style>

<script type="module">
  const phrases = [
    "Pedro Blanquer",
    "Junior pero proactivo.",
    "Creativo.",
    "Responsable.",
    "Colaborador.",
    "Amante del deporte.",
    "Fan del café.",
  ];

  const el = document.getElementById("typewriter");
  let phraseIndex = 0;
  let charIndex = 0;
  let deleting = false;

  const type = () => {
    const current = phrases[phraseIndex];
    if (!deleting) {
      // Escribiendo
      el.textContent = current.slice(0, ++charIndex);
      if (charIndex === current.length) {
        deleting = true;
        setTimeout(type, 3000); // pausa antes de borrar
        return;
      }
    } else {
      // Borrando
      el.textContent = current.slice(0, --charIndex);
      if (charIndex === 0) {
        deleting = false;
        phraseIndex = (phraseIndex + 1) % phrases.length;
      }
    }
    setTimeout(type, deleting ? 50 : 100); // velocidad typing/borrado
  };

  type();
</script>
